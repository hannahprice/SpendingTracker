<MudPaper Elevation="3" Class="px-2">
    <MudGrid Justify="Justify.Center" Spacing="5">
        <MudItem>
            <MudText Typo="Typo.h5">Monthly spend by category</MudText>
        </MudItem>

        @if (IsLoading)
        {
            <MudItem>
                <MudProgressCircular Color="Color.Primary" Size="Size.Large" Indeterminate="true"/>
            </MudItem>
        }
        else
        {
            if (!AllTransactions.Any())
            {
                <MudItem>
                    <MudText Typo="Typo.caption" Align="Align.Center">Add some transactions for this month to view the overview</MudText>
                </MudItem>
            }
            else
            {
                <MudItem>
                    <MudText Typo="Typo.caption">Click a section to display total cost</MudText>
                </MudItem>

                <MudItem>
                    <MudChart ChartType="ChartType.Donut" InputData="ThisMonthsTransactionsData" InputLabels="ThisMonthsTransactionsDataLabels" @bind-SelectedIndex="Index">
                        <CustomGraphics>
                            <text class="donut-inner-text" x="47%" y="35%" dominant-baseline="middle" text-anchor="middle" fill="black" font-family="Helvetica" font-size="2">
                                @ChartInnerLabel
                            </text>
                            <text class="donut-inner-text" x="47%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="black" font-family="Helvetica" font-size="5">
                                £@ChartInnerData
                            </text>
                        </CustomGraphics>
                    </MudChart>
                </MudItem>
            }
        }

    </MudGrid>
</MudPaper>